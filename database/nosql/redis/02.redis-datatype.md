# 02. Redis data types

## Redis data types

레디스는 캐싱, 큐잉, 이벤트 처리 등의 다양한 문제를 해결하는 데 도움이 되는 Collection을 제공한다.

### Strings

- 일반적인 문자열
- 최대 512MB
- binary data, JPEG 이미지도 저장 가능하다.
- 단순 증감 연산에 좋음
- 대부분의 연산은 O(1)이지만 `SUBSTR`, `GETRANGE`, `SETRANGE` 명령은 O(n)일 수 있으므로 성능에 주의해야 한다.
- 기본 명령어
    - `SET`: 데이터 저장, key가 있으면 덮어쓴다. (`set keyName “value”`)
    - `SETNX`: 지정한 key가 없을 경우에만 데이터 저장
    - `GET`: 데이터 조회 (`get keyName`)
    - `MGET`: 여러 개의 데이터를 한 번에 조회 `(mget keyName1 keyName2`)

### Lists

- 배열 형식의 데이터 구조, 순서대로 저장
- 추가, 삭제, 조회는 O(1)이지만 중간의 특정 index 값을 조회할 때는 O(n) 속도를 가진다.
    - 즉 중간 값의 추가, 삭제가 느리다.
- 스택 및 큐 구현이나 백그라운드 워커 시스템을 위한 큐 관리 구축에 사용될 수 있다.
- 리스트 최대 길이는 2^32 - 1
- 기본 명령어
    - `LPUSH`: 리스트의 앞부분에 새 요소를 추가 (`LPUSH myList “a”`)
    - `LPOP`: 리스트 왼쪽에더 데이터를 추출하고 삭제 (`LPOP myList`)
    - `LLEN`: 리스트 요소 총 개수 조회
    - `LMOVE`: 리스트 간 데이터 이동
    - `LTRIM`: 인덱스로 지정한 범위 밖의 값들을 삭제

### Sets

- 중복된 데이터를 담지 않기 위해 사용하는 자료구조
- 유니크한 key 값
    - 한 key에 여러 중복되지 않는 값들을 삽입할 수 있다.
- IP 같은 고유 항목 추적에 용이
- 교집합, 합집합, 차집합 등 일반적인 집합 연산 수행
- 집합 최대 크기는 2^32 - 1개의 요소
- 기본 명령어
    - `SADD`: 집합에 새 멤버 추가 (`sadd mySet a`)
    - `SREM`: 특정 멤버를 삭제 (`srem mySet a`)
    - `SISMEMBER`: 집합에 멤버가 있는지 확인 (`sismember mySet a`)
    - `SINTER`: 교집합을 구함
    - `SCARD`: 집합의 멤버 개수 조회
- 기본적으로 성능은 O(1)이지만 `SMEMBERS` 명령은 모든 집합 데이터를 가져오기에 O(n)이므로 주의해야 한다.

# 아이템 26 함수 내부의 추상화 레벨을 통일하라
- 컴퓨터는 굉장히 복잡하지만 복잡함이 여러 계층에 분할되어 있어 쉽게 사용할 수 있는 것이다.
- 계층이 잘 분리되면 그 아래 계층은 이미 완성되어 있으므로 해당 계층만 생각하면 된다.
    - ex) 어셈블리 언어, JVM 바이트코드를 몰라도 코딩할 수 있다.
- 개발자는 일반적으로 특정 계층에서 작업하며 가끔 그 위에 추가로 계층을 올려 사용한다.

## 추상화 레벨

- 추상화 레벨은 높아질수록 물리 장치로부터 멀어지고 걱정해야 하는 세부 내용들이 적어진다.
- 하지만 높은 레벨은 단순함을 얻지만 제어력을 잃는다.
    - ex) C에선 메모리를 직접 관리할 수 있지만 자바에선 GC가 자동으로 메모리를 관리하기에 최적화가 굉장히 힘들다.

## 추상화 레벨 통일

- 코드에서도 함수를 통해 추상화를 계층처럼 만들어서 사용할 수 있다.
- 함수도 높은 레벨과 낮은 레벨을 구분해서 사용해야 하는데 이를 추상화 레벨 통일 원칙이라 부른다.
    - Single Level Of Abstraction, SLA
- 예를 들어 `makeCoffe` 함수를 만드는 예제를 살펴보자

```kotlin
fun makeCoffee() {
	// 수백 개의 변수를 선언
	// 복잡한 로직 처리
	// 낮은 수준의 최적화도 여기서 처리
}
```

- 위처럼 코드를 작성하면 가독성과 유지보수성이 많이 떨어진다.
- 아래는 함수를 통해 추상화한 구현이다.

```kotlin
fun makeCoffee() {
	boilWater()
	brewCoffee()
	pourCoffee()
	pourMilk()
}
```

- 위 코드는 함수의 동작 방식을 한 눈에 알 수 있다.
    - 누군가 낮은 레벨(`boilWater` 등)을 이해해야 한다면 해당 코드만 보면 된다.
- 이처럼 함수는 작아야 하며 최소한의 책임을 가져야 한다.
- 또한 이런 작은 함수들은 단위 테스트도 쉽다.

## 프로그램 아키텍처의 추상 레벨

- 추상화 계층은 함수보다 높은 레벨에도 적용할 수 있다.
- 이는 문제 중심으로 프로그래밍한다는 의미이다.
- 추상화 개념은 모듈 시스템을 설계할 때도 중요하다.
    - 모듈 분리를 통해 계층 고유 요소를 숨길 수 있다.

## 정리

추상화를 통해 얻을 수 있는 것

- knowledge를 체계화
- 세부 사항을 숨김으로써 상호 운영성과 플랫폼 독립성을 얻는다.
- 각 레이어가 너무 커지는 것을 방지시킬 수 있다.

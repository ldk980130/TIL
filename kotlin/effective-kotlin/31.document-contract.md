# 아이템 31 문서로 규약을 정의하라아이템 31 문서로 규약을 정의하라

- 함수가 무엇을 하는지 명확하게 설명하고 싶다면, KDoc 주석을 붙여주는 것이 좋다.

```kotlin
/**
* 프로젝트에서 짧은 메시지를 사용자에게
* 출력할 때 사용하는 기본적인 방식
* @param message 사용자에게 보여줄 메시지
* @param length 메시지 길이를 나타내는 enum 값
*/
fun Context.showMessage(/*...*/) { /*...*/ }
```

- 대부분의 함수와 클래스는 이름만으로 예측할 수 없는 세부 사항들을 갖고 있다.
- 행위가 문서화되지 않고 요소 이름이 명확하지 않다면 추상화 목표와는 다르게 현재 구현에만 의존하게 될 수도 있다.
    - ex) 메서드 이름은 `showMessage`지만 내부적으로 토스트를 출력하고 있다면 앞으로도 계속 토스트만 출력하게될 수도 있다.

## 규약

- 규약이 적절히 정의되어 있다면 클래스가 어떻게 사용될지 걱정을 덜 수 있다.
- 클래스를 사용하는 사람은 구현을 자세히 알지 못해도 규약을 믿고 구현을 믿을 수 있다.
- 규약을 설정하지 않는다면
    - 클래스를 사용하는 사람이 구현의 세부 정보에 의존하게 된다.
    - 클래스를 만든 사람은 사용자가 무엇을 할지 알 수 없으므로 구현을 망칠 위험이 있다.

## 규약 정의하기

- 이름 - 일반적인 개념이라면 메서드 이름만으로 충분히 동작을 예측할 수 있다. (ex. `sum()`)
- 주석과 문서 - 필요한 규약을 적을 수 있는 강력한 방법
- 타입 - 함수 선언의 리턴 타입과 아규먼트 타입은 많은 것을 알려준다. 타입만 보아도 규약을 알수도 있지만 추가로 설명이 필요한 경우도 있을 것이다.

## 주석을 써야 할까?

- 자바 커뮤니티 초기에는 ‘문학적 프로그래밍’이라 해서 주석으로 모든 것을 설명하려 했다.
- 하지만 로버트 마틴의 ‘클린 코드’ 이후 주석 없이도 읽을 수 있는 방식이 유행하게 되었다.
- 이름 등으로 무엇을 하는지 명확히 알 수 있다면 주석은 불필요 하다.
    - 아래 예제 코드는 주석이 필요 없고 오히려 노이즈이다.

```kotlin
fun List<Int>.product() = fold(1) { acc, i -> acc * i }
```

- 또한 주석을 다는 것보다 함수로서 추출하는 것이 훨씬 좋다.

```kotlin
// 주석으로 표현하기
fun update() {
	// 사용자를 업데이트 합니다.
	for (user in users) {
		user.update()
	}
	
	// 책을 업데이트 합니다.
	for (book in books) {
		updateBook(book)
	}
}
```

```kotlin
fun update() {
	updateUsers()
	updateBooks()
}

private fun updateUsers() { /*...*/ }

private fun updateUsers() { /*...*/ }
```

- 하지만 주석은 굉장히 유용하고 중요한데 코틀린 표준 라이브러리의 모든 `public` 함수는 주석으로 규약을 나타내는 경우가 매우 많다.

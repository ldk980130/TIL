# 아이템 36 상속보다는 컴포지션을 사용하라
## 간단한 행위 재사용

- 공통의 기능을 재사용할 때 슈퍼 클래스를 만들어 공통 행위를 추출하기도 한다.
- 이러한 상속의 경우 몇 가지 단점이 존재한다.
    - 상속은 한 클래스만을 대상으로 할 수 있기에 복잡해지면 복잡한 계층 구조가 만들어진다.
    - 상속은 클래스의 모든 것을 가져오기에 불필요한 함수를 갖는 클래스가 만들어질 수 있다.
    - 상속은 작동 방식을 이해하기 어렵다.
- 대표적인 대안이 바로 컴포지션을 사용하는 것이다.
    - 공통 로직을 객체로 추출해 함수를 호출하는 형태로 재사용하는 것을 의미

```kotlin
class Progress { // 프로그레스 바를 출력하는 인터페이스
	fun showProgress() { /*...*/ }
	fun hideProgress() { /*...*/ }
}

class ProfileLoader {
	val progress = Progress()
	
	fun load() {
		progress.showProgress()
		// 프로파일 읽어 들임
		progress.hideProgress()
	}
}

class ImageLoader {
	val progress = Progress()
	
	fun load() {
		progress.showProgress()
		// 이미지를 읽어 들임
		progress.hideProgress()
	}
}
```

## 모든 것을 가져올 수밖에 없는 상속

- 상속은 슈퍼클래스의 메서드, 제약, 행위 등 모든 것을 가져오기에 계층 구조를 나타내기 굉장히 좋은 도구다.
- 다만 일부분을 재사용하기 위한 목적으로는 적절치 않다.
    - 필요 없는 메서드를 가지게 한다
    - 슈퍼클래스 동작을 깨버리므로 리스코프 치환 원칙도 위반한다.

```kotlin
class RobotDog : Dog() {
	override fun bark() {
		print("robot bark!")
	}

	override fun sniff() { // 로봇 강아지는 냄새를 맡게 하지 못하고 싶음
		throw Error("Operation not supported")
	}
}
```

- 컴포지션을 용하면 필요한 부분만 가져와 재사용할 수 있다.
- 만약 타입 계층 구조를 표현해야 한다면 인터페이스를 통한 다중 상속을 하는 것이 좋을 수도 있다.

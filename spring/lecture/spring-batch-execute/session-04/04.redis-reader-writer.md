# NoSQL 읽고 쓰기 - Redis
## RedisItemReader

## RedisItemReader

- Redis 전용 `ItemReader`
- Redis의 `SCAN` 명령을 사용하는 일종의 커서 기반 `ItemReader`
- `RedisItemReader`는 다른 커서 기반 `ItemReader`와는 다르다.
    - `SCAN` 명령어는 조회 대상`key` 목록들만 반환한다.
    - 실제 값을 얻으려면 추가적인 `GET` 명령이 필요

> `SCAN` 명령어는 `STRING` 타입 전용 명령어이기에 `RedisItemReader`는 `STRING` 타입만 지원한다. 별도 타입을 처리하려면 커스텀 `ItemReader`를 구현해야 한다.
>

### RedisItemReader 동작 과정

- 초기화
    - 초기화 시점(`open()`)에 SCAN 명령을 최초 호출해 커서 생성
    - 커서는 조회 대상 key 목록을 담고 있다.
    - 이 때 커서가 가지는 key들은 전체가 아닌 일부이다.
- `read()`
    - `read()` 메서드는 커서로부터 key를 하나씩 받아와서 `GET` 명령을 호출
    - 커서 key가 전부 소비될 때까지 계속한다.
- 추가 `SCAN`
    - 추가적인 명령으로 새로운 key 목록을 확보

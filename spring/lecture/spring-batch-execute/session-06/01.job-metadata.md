# Job과 메타데이터 저장소

## Spring Batch의 메타데이터 저장소

- 배치 작업이 견고해지려면 다음 작업들이 필요하다.
    - 어떤 작업이 실행되었는지 추적할 수 있어야 한다.
    - 해당 작업의 진행에 관한 상태를 저장할 수 있어야 한다.
    - 실패 작업을 실패 지점부터 재시작할 수 있어야 한다.
- Spring Batch는 배치 실행에 관한 메타데이터를 저장한다.
    - 작업의 실행 상태
    - 처리 항목 수
    - 실패 지점 등

## Spring Batch 핵심 도메인

### JobInstance

- `JobInstance`는 `Job`의 논리적 실행 단위를 의미한다.
- 동일한 `Job`을 실행하더라도 처리하는 데이터가 다르면 별개의 `JobInstance`다.
    - ex) 2024년 1월 매출 정산과 2월 매출 정산은 다른 `JobInstance`다.
- Spring Batch는 `JobParameters`를 통해 `JobInstance`를 구분한다.

### JobParameters

- `JobParameters`는 동일한 `Job`을 서로 다른 `JobInstance`로 구분하는 핵심 요소다
- `Job` + `JobParameters` = `JobInstance`

### JobExecution

- `JobExecution`은 `JobInstance`의 실제 실행 시도를 뜻한다.
    - 같은 `JobInstance`(ex. 4월 정산 배치)라도 여러 번 실행될 수 있다.
- `JobExecution`에는 다음 정보들이 포함된다.
    - 현재 상태 (`COMPLETED`,`FAILED`,`STOPPED`등)
    - 시작 시간
    - 종료 시간
    - 종료 코드
    - 실패 원인

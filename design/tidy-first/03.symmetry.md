# Chapter 03 대칭으로 맞추기

- 코드는 마치 유기체처럼 성장한다.
    - 때문에 같은 문제라도 시대와 사람에 따라 다른 모습으로 해결된다.
    - 이는 코드를 읽기 어렵게 만든다.
- 읽는 입장에서는 일관성이 중요하다.
    - 패턴이 보이면 확신을 갖고 결정을 내릴 수 있다.

- “아직 계산하지 않았다면 foo의 값을 계산하고 임시 보관하라”는 로직의 변형은 아래와 같이 많을 것이다.

```kotlin
fun foo(): Foo {
  return if (foo != null) {
    foo
  } else {
    foo = // ...
    foo
  }
}

fun foo(): Foo {
  if (foo == null) {
    foo = //...
  }
  return foo
}

// 기교를 더한 코드
fun foo(): Foo {
  return foo ?: run {
    foo = 1
    foo!!
  }
}
```

- 한 가지 패턴의 코드는 읽다 보면 금방 익숙해진다.
    - 두 가지 패턴의 코드는 읽다 보면 혼란스럽다.
- 한 가지 방식을 선택해 정하고, 다른 방식의 코드를 선택한 방식으로 고치자.
- 세부 사항에 묻혀 드러나지 않는 공통성을 찾아 분리하고, 패턴화 시키자.

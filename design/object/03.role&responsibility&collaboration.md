# 03 역할, 책임, 협력

- 객체지향 패러다임 관점에서 핵심
    - 역할
    - 책임
    - 협력

## 01 협력

- 객체지향 원칙을 따르는 애플리케이션의 제어 흐름은 다양한 객체들 사이에 균형 있게  분배된다.
- 객체들이 기능을 구현하기 위해 수행하는 상호작용을 협력이라고 한다.

### 협력

- 두 객체 사이의 협력은 메시지 전송을 통해 이루어 진다.
- 메시지를 수신한 객체는 메서드를 실행해 요청에 응답한다.
    - 객체는 메시지를 처리할 방법을 스스로 선택한다.
- 객체는 자신의 상태를 직접 관리하고 스스로 결정에 따라 행동한다.
- 객체를 자율적으로 만드는 가장 기본적인 방법은 캡슐화이다.

### 협력이 설계를 위한 문맥을 결정한다

- 객체란 상태와 행동을 함께 캡슐화 해야 하는 실행 단위
    - 객체가 가지는 상태, 행동은 어떻게 결정?
- 애플리케이션에 객체가 필요하다면 그 이유는 단 하나

  → 객체가 협력에 참여하고 있기 때문

- 즉 객체의 행동을 결정하는 것은 객체가 참여하고 있는 협력
    - 협력이 바뀌면 행동 역시 변화
- 객체의 상태를 결정하는 것은 행동
    - 행동을 수행하는 데 필요한 정보이기 때문
- 협력은 객체를 설계하는 데 필요한 일종의 문맥(context)를 제공한다.

## 02 책임

### 책임이란 무엇인가

- 협력에 참여하기 위해 객체가 수행하는 행동을 책임이라 부른다.
- 책임은 객체에 의해 정의되는 응집도 있는 행위의 집합
    - 객체가 ‘무엇을 알고 있는가’
        - 사적인 정보에 관해 아는 것
        - 관련된 객체에 관해 아는 것
        - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
    - 객체가 ‘무엇을 할 수 있는가’
        - 객체를 생성하거나 계산을 수행하는 등
        - 다른 객체의 행동을 시작시키는 것
        - 다른 객체의 활동을 제어하고 조절하는 것
- 협력 안에서 객체에게 할당한 책임이 외부 인터페이스와 내부 속성을 결정

### 책임 할당

- 책임 할당을 위한 INFORMATION EXPERT (정보 전문가) 패턴
    - 자율적인 객체를 만드는 기본적인 방법은 책임 수행에 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책임을 할당하는 것
    - ex) 가격 계산 행동을 수행하기 위해선 가격 정보를 알고 있는 객체에게 맡기는 것이 자연스럽다
- 객체에 책임을 할당하기 위해선 협력이라는 문맥을 정의해야 한다.
- 협력 설계의 출발점은 시스템이 제공해야 하는 기능을 시스템이 담당할 하나의 책임으로 보는 것
    - 필요한 더 작은 책임을 찾아내고 이를 객체들에게 할당, 반복
- 어떤 경우에는 응집도, 결합도 관점에서 정보 전문가가 아닌 객체에게 책임을 할당해야 하는 경우도 있다.
    - 하지만 기본 전략은 정보 전문가를 찾는 것
